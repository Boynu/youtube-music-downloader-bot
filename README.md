# youtube-music-downloader-bot –ù–∏–∂–µ –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ

https://t.me/YM_Download_bot

This code is a bot for downloading music from YouTube, written in Python. It uses the `aiogram` library for Telegram bot functionality and `pytube' for downloading videos and playlists from YouTube. The downloaded music is saved in MP3 format and can be accessed via the bot.
## Pre-setup

Before running the code, make sure that you have the following dependencies installed:

- `aiogram`
- `pytube`
- `eyed3`
- `ffmpeg`
- `youtube-search-python`

You can install these dependencies using `pip`:

```bash
pip install aiogram pytube eyed3 youtube-search-python
```

`ffmpeg` is required to convert downloaded videos to MP3 format. You can install it by following the instructions for your operating system.

## Setup

1. Clone the repository or upload the code files.

2. Create a new Telegram bot and get its API token. You can do this by contacting BotFather on Telegram.

3. Open the code file and replace the `token` variable with your Telegram bot API token:

   ```python
   token = 'YOUR_TOKEN'
   ```

4. Run the code using the Python interpreter:

   ```bash
   python main.py
   ```

## Usage

1. Start a dialogue with the bot by sending the command `/start'.
2. You can send a link to a song or playlist from YouTube, and the bot will download them for you.
3. The following commands are available to manage playlists:
   - `/get` - show all downloaded songs and playlists.
   - `/clear` - delete all songs from the playlist.
   - `/create` - create a new playlist.
   - `/del` - delete playlist.
   - `/search` - find a song on YouTube

4. To create a new playlist, enter the command `/create` or click "‚ûïCreate a new playlist" and follow the bot's instructions.
5. To get a list of songs from the playlist, use the `/get` command or click "üìÇShow all downloaded music" and select a playlist.
6. To delete a playlist, use the `/del` command and select the playlist to delete.
7. To clear the playlist, use the `/clear` command and select the playlist to clear.
8. You can send the `/help` command to get help on the available commands.

## Notes

- Uploaded songs are saved in a directory with the name of the user's chat ID. After sending them to the user, they are deleted from the local server. The file ID is stored in the file `ids.txt ` or there may be another name for your playlist.
- The bot uses SQLite to store user information, including the chat ID and username.
- The `eyed3` library is used to add metadata (song name and artist) to downloaded MP3 files.
- The `ffmpeg` utility is used to convert downloaded videos to MP3 format.

Feel free to customize the code according to your requirements or add additional features to the bot. Enjoy downloading and listening to your favorite music!

# youtube-music-downloader-bot –ù–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ

https://t.me/YM_Download_bot

–î–∞–Ω–Ω—ã–π –∫–æ–¥ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –±–æ—Ç–∞ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –º—É–∑—ã–∫–∏ –∏–∑ –Æ—Ç—É–±–∞, –Ω–∞–ø–∏—Å–∞–Ω–Ω–æ–≥–æ –Ω–∞ Python. –û–Ω –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –±–∏–±–ª–∏–æ—Ç–µ–∫—É `aiogram` –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ Telegram-–±–æ—Ç–∞ –∏ `pytube` –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –≤–∏–¥–µ–æ –∏ –ø–ª–µ–π–ª–∏—Å—Ç–æ–≤ —Å YouTube. –ó–∞–≥—Ä—É–∂–µ–Ω–Ω–∞—è –º—É–∑—ã–∫–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ MP3 –∏ –º–æ–∂–µ—Ç –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–Ω–∞ —á–µ—Ä–µ–∑ –±–æ—Ç–∞.

## –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

–ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º –∫–æ–¥–∞ —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

- `aiogram`
- `pytube`
- `eyed3`
- `ffmpeg`
- `youtube-search-python`

–í—ã –º–æ–∂–µ—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —ç—Ç–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —Å –ø–æ–º–æ—â—å—é `pip`:

```bash
pip install aiogram pytube eyed3 youtube-search-python
```

`ffmpeg` –Ω–µ–æ–±—Ö–æ–¥–∏–º –¥–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö –≤–∏–¥–µ–æ –≤ —Ñ–æ—Ä–º–∞—Ç MP3. –í—ã –º–æ–∂–µ—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –µ–≥–æ, —Å–ª–µ–¥—É—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –¥–ª—è –≤–∞—à–µ–π –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã.

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞

1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏–ª–∏ –∑–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–∞–π–ª—ã –∫–æ–¥–∞.

2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤–æ–≥–æ Telegram-–±–æ—Ç–∞ –∏ –ø–æ–ª—É—á–∏—Ç–µ –µ–≥–æ API-—Ç–æ–∫–µ–Ω. –í—ã –º–æ–∂–µ—Ç–µ —Å–¥–µ–ª–∞—Ç—å —ç—Ç–æ, –æ–±—Ä–∞—Ç–∏–≤—à–∏—Å—å –∫ BotFather –≤ Telegram.

3. –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª —Å –∫–æ–¥–æ–º –∏ –∑–∞–º–µ–Ω–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `token` –Ω–∞ —Å–≤–æ–π API-—Ç–æ–∫–µ–Ω Telegram-–±–æ—Ç–∞:

   ```python
   token = '–í–ê–®_–¢–û–ö–ï–ù'
   ```

4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–¥ —Å –ø–æ–º–æ—â—å—é –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä–∞ Python:

   ```bash
   python main.py
   ```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

1. –ù–∞—á–Ω–∏—Ç–µ –¥–∏–∞–ª–æ–≥ —Å –±–æ—Ç–æ–º, –æ—Ç–ø—Ä–∞–≤–∏–≤ –∫–æ–º–∞–Ω–¥—É `/start`.
2. –í—ã –º–æ–∂–µ—Ç–µ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Å—Å—ã–ª–∫—É –Ω–∞ –ø–µ—Å–Ω—é –∏–ª–∏ –ø–ª–µ–π–ª–∏—Å—Ç –∏–∑ YouTube, –∏ –±–æ—Ç –∑–∞–≥—Ä—É–∑–∏—Ç –∏—Ö –¥–ª—è –≤–∞—Å.
3. –î–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–ª–µ–π–ª–∏—Å—Ç–∞–º–∏ –¥–æ—Å—Ç—É–ø–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ –∫–æ–º–∞–Ω–¥—ã:
   - `/get` - –ø–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ —Å–∫–∞—á–µ–Ω–Ω—ã–µ –ø–µ—Å–Ω–∏ –∏ –ø–ª–µ–π–ª–∏—Å—Ç—ã.
   - `/clear` - —É–¥–∞–ª–∏—Ç—å –≤—Å–µ –ø–µ—Å–Ω–∏ –∏–∑ –ø–ª–µ–π–ª–∏—Å—Ç–∞.
   - `/create` - —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –ø–ª–µ–π–ª–∏—Å—Ç.
   - `/del` - —É–¥–∞–ª–∏—Ç—å –ø–ª–µ–π–ª–∏—Å—Ç.
   - `/search` - –ø–æ–∏—Å–∫ –º—É–∑—ã–∫–∏ –≤ –Æ—Ç—É–±–µ.
   
4. –î–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ –ø–ª–µ–π–ª–∏—Å—Ç–∞ –≤–≤–µ–¥–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É `/create` –∏–ª–∏ –Ω–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "‚ûï–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –ø–ª–µ–π–ª–∏—Å—Ç" –∏ —Å–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –±–æ—Ç–∞.
5. –î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ –ø–µ—Å–µ–Ω –∏–∑ –ø–ª–µ–π–ª–∏—Å—Ç–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É `/get` –∏–ª–∏ –Ω–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "üìÇ–ü–æ–∫–∞–∑–∞—Ç—å –≤—Å—é —Å–∫–∞—á–µ–Ω–Ω—É—é –º—É–∑—ã–∫—É" –∏ –≤—ã–±–µ—Ä–∏—Ç–µ –ø–ª–µ–π–ª–∏—Å—Ç.
6. –î–ª—è —É–¥–∞–ª–µ–Ω–∏—è –ø–ª–µ–π–ª–∏—Å—Ç–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É `/del` –∏ –≤—ã–±–µ—Ä–∏—Ç–µ –ø–ª–µ–π–ª–∏—Å—Ç –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è.
7. –î–ª—è –æ—á–∏—Å—Ç–∫–∏ –ø–ª–µ–π–ª–∏—Å—Ç–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É `/clear` –∏ –≤—ã–±–µ—Ä–∏—Ç–µ –ø–ª–µ–π–ª–∏—Å—Ç –¥–ª—è –æ—á–∏—Å—Ç–∫–∏.
8. –í—ã –º–æ–∂–µ—Ç–µ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –∫–æ–º–∞–Ω–¥—É `/help`, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å —Å–ø—Ä–∞–≤–∫—É –ø–æ –¥–æ—Å—Ç—É–ø–Ω—ã–º –∫–æ–º–∞–Ω–¥–∞–º.

## –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –ó–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ –ø–µ—Å–Ω–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –∫–∞—Ç–∞–ª–æ–≥–µ —Å –∏–º–µ–Ω–µ–º –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞ —á–∞—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. –ü–æ—Å–ª–µ –æ—Ç–ø—Ä–∞–≤–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é, –æ–Ω–∏ —É–¥–∞–ª—è—é—Ç—Å—è —Å –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞. ID —Ñ–∞–π–ª–∞ —Ö—Ä–∞–Ω–∏—Ç—å—Å—è –≤ —Ñ–∞–π–ª–µ `ids.txt` –∏–ª–∏ –º–æ–∂–µ—Ç –±—ã—Ç—å –¥—Ä—É–≥–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –¥–ª—è –≤–∞—à–µ–≥–æ –ø–ª–µ–π–ª–∏—Å—Ç–∞.
- –ë–æ—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç SQLite –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è—Ö, –≤–∫–ª—é—á–∞—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —á–∞—Ç–∞ –∏ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
- –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ `eyed3` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö (–Ω–∞–∑–≤–∞–Ω–∏—è –ø–µ—Å–Ω–∏ –∏ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è) –≤ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã MP3.
- –£—Ç–∏–ª–∏—Ç–∞ `ffmpeg` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö –≤–∏–¥–µ–æ –≤ —Ñ–æ—Ä–º–∞—Ç MP3.

–ù–µ —Å—Ç–µ—Å–Ω—è–π—Ç–µ—Å—å –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –∫–æ–¥ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –≤–∞—à–∏–º–∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º–∏ –∏–ª–∏ –¥–æ–±–∞–≤–ª—è—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤ –±–æ—Ç–∞. –ù–∞—Å–ª–∞–∂–¥–∞–π—Ç–µ—Å—å –∑–∞–≥—Ä—É–∑–∫–æ–π –∏ –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏–µ–º –ª—é–±–∏–º–æ–π –º—É–∑—ã–∫–∏!
